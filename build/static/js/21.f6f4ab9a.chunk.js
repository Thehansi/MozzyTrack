/*! For license information please see 21.f6f4ab9a.chunk.js.LICENSE.txt */
(this["webpackJsonpdatta-able-rv18.0.4"]=this["webpackJsonpdatta-able-rv18.0.4"]||[]).push([[21],{452:function(e,t,a){"use strict";var r=a(30),n=a(11),o=a(12),i=a(16),l=a(17),c=a(37),s=a.n(c),p=a(895),u=a(860),d=a(473),m=(a(457),a(367)),f=a(455),v=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={isOption:e.props.isOption,fullCard:!1,collapseCard:!1,loadCard:!1,cardRemove:!1},e.cardReloadHandler=function(){e.setState({loadCard:!0}),setInterval((function(){e.setState({loadCard:!1})}),3e3)},e.cardRemoveHandler=function(){e.setState({cardRemove:!0})},e}return Object(o.a)(a,[{key:"render",value:function(){var e,t,a,n,o,i=this,l=[];return this.state.isOption&&(a=s.a.createElement("div",{className:"card-header-right"},s.a.createElement(p.a,{alignRight:!0,className:"btn-group card-option"},s.a.createElement(p.a.Toggle,{id:"dropdown-basic",className:"btn-icon"},s.a.createElement("i",{className:"feather icon-more-horizontal"})),s.a.createElement(p.a.Menu,{as:"ul",className:"list-unstyled card-option"},s.a.createElement(p.a.Item,{as:"li",className:"dropdown-item",onClick:function(){i.setState((function(e){return{fullCard:!e.fullCard}}))}},s.a.createElement("i",{className:this.state.fullCard?"feather icon-minimize":"feather icon-maximize"}),s.a.createElement("a",{href:f.a.BLANK_LINK}," ",this.state.fullCard?"Restore":"Maximize"," ")),s.a.createElement(p.a.Item,{as:"li",className:"dropdown-item",onClick:function(){i.setState((function(e){return{collapseCard:!e.collapseCard}}))}},s.a.createElement("i",{className:this.state.collapseCard?"feather icon-plus":"feather icon-minus"}),s.a.createElement("a",{href:f.a.BLANK_LINK}," ",this.state.collapseCard?"Expand":"Collapse"," ")),s.a.createElement(p.a.Item,{as:"li",className:"dropdown-item",onClick:this.cardReloadHandler},s.a.createElement("i",{className:"feather icon-refresh-cw"}),s.a.createElement("a",{href:f.a.BLANK_LINK}," Reload ")),s.a.createElement(p.a.Item,{as:"li",className:"dropdown-item",onClick:this.cardRemoveHandler},s.a.createElement("i",{className:"feather icon-trash"}),s.a.createElement("a",{href:f.a.BLANK_LINK}," Remove ")))))),n=s.a.createElement(u.a.Header,null,s.a.createElement(u.a.Title,{as:"h5"},this.props.title),a),this.state.fullCard&&(l=[].concat(Object(r.a)(l),["full-card"]),e={position:"fixed",top:0,left:0,right:0,width:this.props.windowWidth,height:this.props.windowHeight}),this.state.loadCard&&(l=[].concat(Object(r.a)(l),["card-load"]),t=s.a.createElement("div",{className:"card-loader"},s.a.createElement("i",{className:"pct-loader1 anim-rotate"}))),this.state.cardRemove&&(l=[].concat(Object(r.a)(l),["d-none"])),this.props.cardClass&&(l=[].concat(Object(r.a)(l),[this.props.cardClass])),o=s.a.createElement(u.a,{className:l.join(" "),style:e},n,s.a.createElement(d.a,{in:!this.state.collapseCard},s.a.createElement("div",null,s.a.createElement(u.a.Body,{style:{backgroundColor:"rgb(185, 210, 214)"}},this.props.children))),t),s.a.createElement(m.a,null,o)}}]),a}(c.Component);t.a=v},456:function(e,t,a){"use strict";function r(e,t,a,r,n,o,i){try{var l=e[o](i),c=l.value}catch(s){return void a(s)}l.done?t(c):Promise.resolve(c).then(r,n)}function n(e){return function(){var t=this,a=arguments;return new Promise((function(n,o){var i=e.apply(t,a);function l(e){r(i,n,o,l,c,"next",e)}function c(e){r(i,n,o,l,c,"throw",e)}l(void 0)}))}}a.d(t,"a",(function(){return n}))},482:function(e,t,a){"use strict";var r=a(15),n=a(35),o=a(454),i=a.n(o),l=a(37),c=a.n(l),s=a(470),p=a(469),u=a(453),d=["bsPrefix","className","as"],m=c.a.forwardRef((function(e,t){var a=e.bsPrefix,o=e.className,l=e.as,s=Object(n.a)(e,d);a=Object(u.a)(a,"navbar-brand");var p=l||(s.href?"a":"span");return c.a.createElement(p,Object(r.a)({},s,{ref:t,className:i()(o,a)}))}));m.displayName="NavbarBrand";var f=m,v=a(473),h=a(458),b=["children","bsPrefix"],g=c.a.forwardRef((function(e,t){var a=e.children,o=e.bsPrefix,i=Object(n.a)(e,b);return o=Object(u.a)(o,"navbar-collapse"),c.a.createElement(h.a.Consumer,null,(function(e){return c.a.createElement(v.a,Object(r.a)({in:!(!e||!e.expanded)},i),c.a.createElement("div",{ref:t,className:o},a))}))}));g.displayName="NavbarCollapse";var y=g,x=a(464),E=["bsPrefix","className","children","label","as","onClick"],O=c.a.forwardRef((function(e,t){var a=e.bsPrefix,o=e.className,s=e.children,p=e.label,d=e.as,m=void 0===d?"button":d,f=e.onClick,v=Object(n.a)(e,E);a=Object(u.a)(a,"navbar-toggler");var b=Object(l.useContext)(h.a)||{},g=b.onToggle,y=b.expanded,O=Object(x.a)((function(e){f&&f(e),g&&g()}));return"button"===m&&(v.type="button"),c.a.createElement(m,Object(r.a)({},v,{ref:t,onClick:O,"aria-label":p,className:i()(o,a,!y&&"collapsed")}),s||c.a.createElement("span",{className:a+"-icon"}))}));O.displayName="NavbarToggle",O.defaultProps={label:"Toggle navigation"};var j=O,w=a(467),L=["bsPrefix","expand","variant","bg","fixed","sticky","className","children","as","expanded","onToggle","onSelect","collapseOnSelect"],N=Object(p.a)("navbar-text",{Component:"span"}),C=c.a.forwardRef((function(e,t){var a=Object(s.a)(e,{expanded:"onToggle"}),o=a.bsPrefix,p=a.expand,d=a.variant,m=a.bg,f=a.fixed,v=a.sticky,b=a.className,g=a.children,y=a.as,x=void 0===y?"nav":y,E=a.expanded,O=a.onToggle,j=a.onSelect,N=a.collapseOnSelect,C=Object(n.a)(a,L),A=Object(u.a)(o,"navbar"),T=Object(l.useCallback)((function(){j&&j.apply(void 0,arguments),N&&E&&O&&O(!1)}),[j,N,E,O]);void 0===C.role&&"nav"!==x&&(C.role="navigation");var F=A+"-expand";"string"===typeof p&&(F=F+"-"+p);var k=Object(l.useMemo)((function(){return{onToggle:function(){return O&&O(!E)},bsPrefix:A,expanded:!!E}}),[A,E,O]);return c.a.createElement(h.a.Provider,{value:k},c.a.createElement(w.a.Provider,{value:T},c.a.createElement(x,Object(r.a)({ref:t},C,{className:i()(b,A,p&&F,d&&A+"-"+d,m&&"bg-"+m,v&&"sticky-"+v,f&&"fixed-"+f)}),g)))}));C.defaultProps={expand:!0,variant:"light",collapseOnSelect:!1},C.displayName="Navbar",C.Brand=f,C.Toggle=j,C.Collapse=y,C.Text=N;t.a=C},883:function(e,t,a){"use strict";a.r(t);var r=a(30),n=a(108),o=a(456),i=a(49),l=a(37),c=a.n(l),s=a(482),p=a(672),u=a(370),d=a(369),m=a(371),f=a(368),v=a.n(f),h=a(460),b=a.n(h),g=a(271),y=a(452);function x(){x=function(){return t};var e,t={},a=Object.prototype,r=a.hasOwnProperty,n=Object.defineProperty||function(e,t,a){e[t]=a.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,a){return e[t]=a}}function p(e,t,a,r){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),l=new F(r||[]);return n(i,"_invoke",{value:N(e,a,l)}),i}function u(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var d="suspendedStart",m="executing",f="completed",v={};function h(){}function b(){}function g(){}var y={};s(y,i,(function(){return this}));var E=Object.getPrototypeOf,O=E&&E(E(k([])));O&&O!==a&&r.call(O,i)&&(y=O);var j=g.prototype=h.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function L(e,t){function a(n,o,i,l){var c=u(e[n],e,o);if("throw"!==c.type){var s=c.arg,p=s.value;return p&&"object"==typeof p&&r.call(p,"__await")?t.resolve(p.__await).then((function(e){a("next",e,i,l)}),(function(e){a("throw",e,i,l)})):t.resolve(p).then((function(e){s.value=e,i(s)}),(function(e){return a("throw",e,i,l)}))}l(c.arg)}var o;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){a(e,r,t,n)}))}return o=o?o.then(n,n):n()}})}function N(t,a,r){var n=d;return function(o,i){if(n===m)throw new Error("Generator is already running");if(n===f){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=C(l,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===d)throw n=f,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=m;var s=u(t,a,r);if("normal"===s.type){if(n=r.done?f:"suspendedYield",s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n=f,r.method="throw",r.arg=s.arg)}}}function C(t,a){var r=a.method,n=t.iterator[r];if(n===e)return a.delegate=null,"throw"===r&&t.iterator.return&&(a.method="return",a.arg=e,C(t,a),"throw"===a.method)||"return"!==r&&(a.method="throw",a.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=u(n,t.iterator,a.arg);if("throw"===o.type)return a.method="throw",a.arg=o.arg,a.delegate=null,v;var i=o.arg;return i?i.done?(a[t.resultName]=i.value,a.next=t.nextLoc,"return"!==a.method&&(a.method="next",a.arg=e),a.delegate=null,v):i:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,v)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function F(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function k(t){if(t||""===t){var a=t[i];if(a)return a.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function a(){for(;++n<t.length;)if(r.call(t,n))return a.value=t[n],a.done=!1,a;return a.value=e,a.done=!0,a};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return b.prototype=g,n(j,"constructor",{value:g,configurable:!0}),n(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,c,"GeneratorFunction")),e.prototype=Object.create(j),e},t.awrap=function(e){return{__await:e}},w(L.prototype),s(L.prototype,l,(function(){return this})),t.AsyncIterator=L,t.async=function(e,a,r,n,o){void 0===o&&(o=Promise);var i=new L(p(e,a,r,n),o);return t.isGeneratorFunction(a)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},w(j),s(j,c,"Generator"),s(j,i,(function(){return this})),s(j,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),a=[];for(var r in t)a.push(r);return a.reverse(),function e(){for(;a.length;){var r=a.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=k,F.prototype={constructor:F,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var a in this)"t"===a.charAt(0)&&r.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var a=this;function n(r,n){return l.type="throw",l.arg=t,a.next=r,n&&(a.method="next",a.arg=e),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),T(a),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;T(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,a,r){return this.delegate={iterator:k(t),resultName:a,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}t.default=function(){var e,t,a,f,h,E,O,j=Object(l.useRef)(null),w=Object(l.useState)([]),L=Object(i.a)(w,2),N=L[0],C=L[1],A=Object(l.useState)([]),T=Object(i.a)(A,2),F=T[0],k=T[1],S=Object(l.useState)([]),R=Object(i.a)(S,2),M=R[0],P=R[1],I=Object(l.useState)([]),V=Object(i.a)(I,2),_=V[0],D=V[1],B=Object(l.useState)(-1),G=Object(i.a)(B,2),q=G[0],U=G[1],Q=Object(l.useState)(!1),K=Object(i.a)(Q,2),z=K[0],H=K[1],J=Object(l.useState)(!0),W=Object(i.a)(J,2),Y=W[0],X=W[1],Z=Object(l.useState)(!0),$=Object(i.a)(Z,2),ee=$[0],te=$[1],ae=Object(l.useState)(!0),re=Object(i.a)(ae,2),ne=(re[0],re[1]),oe=Object(l.useState)({}),ie=Object(i.a)(oe,2),le=ie[0],ce=ie[1],se=Object(l.useState)({jForm:{PRType:"",ItemCategory:"",UserGroup:"",ApprovalLevel:"",ApprovalLevelName:"",IncreaseQty:!1,DecreaseQty:!1,MinValue:"",MaxValue:"",RequiredAttachments_1:!1,RequiredAttachments_2:!1,RequiredAttachments_3:!1},viewApprovalLevelMapping:0,approvalMappings:[],LoadPanelVisible:!1,ListViewing:!1,GroupTable:[],jSetForm:{},boolValue:!1,RequiredAttachments:[{ID:0,Name:"Min"},{ID:1,Name:"Medium"},{ID:2,Name:"Max"}]}),pe=Object(i.a)(se,2),ue=pe[0],de=pe[1],me=j.current&&j.current.instance;Object(l.useEffect)((function(){fe()}),[]);var fe=function(){return(e=e||Object(o.a)(x().mark((function e(){var t,a,r,o,i,l;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.parse(localStorage.getItem("user")),e.next=3,v.a.get("/api/CheckUserAuthentication",{params:{UsersID:t.UserName,MenuID:9005}});case 3:if(a=e.sent,ce(t.UserName),0==a.data.length){e.next=33;break}if(!a.data[0].UserView){e.next=31;break}return ne(!1),e.prev=8,e.next=11,v.a.get("/api/getallgroupforapproval");case 11:return r=e.sent,C(r.data),e.next=15,v.a.get("/api/getallPRTypeforapproval");case 15:return o=e.sent,k(o.data),e.next=19,v.a.get("/api/getallitemforapproval");case 19:return i=e.sent,P(i.data),e.next=23,v.a.get("/api/getallapprovallevelmapping");case 23:l=e.sent,console.log("getApprovalLevelMapping",l.data),de((function(e){return Object(n.a)(Object(n.a)({},e),{},{jForm:{MinValue:0,MaxValue:1},approvalMappings:l.data})})),e.next=31;break;case 28:e.prev=28,e.t0=e.catch(8),console.error("Error fetching details:",e.t0);case 31:a.data[0].UserAdd&&X(!1),a.data[0].UserEdit&&te(!1);case 33:case"end":return e.stop()}}),e,null,[[8,28]])})))).apply(this,arguments)},ve=function(e,t){Object(g.a)({message:e,type:t,displayTime:3e3,position:{at:"top right",offset:"50"}})},he=function(){return(a=a||Object(o.a)(x().mark((function e(){var t,a,r;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=ue.jForm,a=parseFloat(t.MaxValue),r=parseFloat(t.MinValue),me.validate().isValid){e.next=8;break}return ve("Fields marked with * are required","error"),e.abrupt("return",!1);case 8:if(""!=t.PRType&&NaN!=t.PRType&&void 0!=t.PRType){e.next=13;break}return ve("PRType is Required","error"),e.abrupt("return",!1);case 13:if(""!=t.UserGroup&&NaN!=t.UserGroup&&void 0!=t.UserGroup){e.next=18;break}return ve("UserGroup is Required","error"),e.abrupt("return",!1);case 18:if(""!=t.ItemCategory&&NaN!=t.ItemCategory&&void 0!=t.ItemCategory){e.next=23;break}return ve("ItemCategory is Required","error"),e.abrupt("return",!1);case 23:if(""!=t.ApprovalLevel&&NaN!=t.ApprovalLevel&&void 0!=t.ApprovalLevel){e.next=28;break}return ve("ApprovalLevel is Required","error"),e.abrupt("return",!1);case 28:if(!(a<1)){e.next=33;break}return ve("Max Value is Should be Greater Than 0","error"),e.abrupt("return",!1);case 33:if(!(r<0)){e.next=38;break}return ve("Min Value is Should be Greater Than or Equal 0","error"),e.abrupt("return",!1);case 38:if(!(a<=r)){e.next=41;break}return ve("Max Value is Should be Greater Than Min Value","error"),e.abrupt("return",!1);case 41:return e.abrupt("return",!0);case 42:case"end":return e.stop()}}),e)})))).apply(this,arguments)},be=function(){return(h=h||Object(o.a)(x().mark((function e(){var t;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("/api/getallapprovallevelmapping");case 2:t=e.sent,console.log(t.data),de((function(e){return Object(n.a)(Object(n.a)({},e),{},{approvalMappings:t.data,jForm:{MinValue:0,MaxValue:1},boolValue:!1})}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)},ge=Object(l.useCallback)((function(){if(j.current){var e=j.current.instance.getEditor("ApprovalLevel");e&&e.focus()}}),[]);return c.a.createElement("div",null,c.a.createElement(y.a,{title:"Approval Level Mapping"},c.a.createElement(u.g,{ref:j,formData:ue.jForm},c.a.createElement(u.b,{caption:"Approval",colCount:2},c.a.createElement(u.c,{dataField:"PRType",editorType:"dxSelectBox",editorOptions:{readOnly:ue.boolValue,dataSource:F,valueExpr:"PRTypeCode",displayExpr:"Discription",maxLength:50,onValueChanged:function(e){return(O=O||Object(o.a)(x().mark((function e(t){var a,r;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("ApprovalLevel",ue.jForm.ApprovalLevel),console.log("isUpdate",z),console.log("AWA"),e.next=5,v.a.get("/api/getallapprovallevelmapping");case 5:return a=e.sent,z||de((function(e){return Object(n.a)(Object(n.a)({},e),{},{jForm:Object(n.a)(Object(n.a)({},e.jForm),{},{ApprovalLevel:null,ApprovalLevelName:null}),approvalMappings:a.data})})),e.next=9,v.a.get("/api/filterApprovalLevelDetails",{params:{TransactionType:t.value}});case 9:0!=(r=e.sent).data.length?D(r.data):D([]);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}},c.a.createElement(u.e,{message:"Field required"}),c.a.createElement(u.d,{text:"PR Type"})),c.a.createElement(u.c,{dataField:"ItemCategory",editorType:"dxSelectBox",editorOptions:{readOnly:ue.boolValue,dataSource:M,valueExpr:"FldValue",displayExpr:"FldValue",maxLength:50}},c.a.createElement(u.e,{message:"Field required"}),c.a.createElement(u.d,{text:"Item Type "})),c.a.createElement(u.c,{dataField:"UserGroup",editorType:"dxSelectBox",editorOptions:{readOnly:ue.boolValue,dataSource:N,valueExpr:"GroupCode",displayExpr:"Discription",maxLength:50}},c.a.createElement(u.e,{message:"Field required"}),c.a.createElement(u.d,{text:"User Group"})),c.a.createElement(u.a,null)),c.a.createElement(u.b,{caption:"Approval Level",colCount:2},c.a.createElement(u.c,{dataField:"ApprovalLevel",editorType:"dxSelectBox",editorOptions:{readOnly:ue.boolValue,dataSource:_,valueExpr:"ApprovalLevel",displayExpr:"ApprovalLevel",maxLength:50,onValueChanged:function(e){return(t=t||Object(o.a)(x().mark((function e(t){var a,o;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0==ue.jForm.ApprovalLevel){e.next=13;break}return e.prev=1,e.next=4,v.a.get("/api/getApprovalLevelName",{params:{ApprovalLevel:ue.jForm.ApprovalLevel,TransactionType:ue.jForm.PRType}});case 4:a=e.sent,o=a.data,de((function(e){return{jForm:Object(n.a)(Object(n.a)({},e.jForm),{},{ApprovalLevelName:o.ApprovalLevelName}),approvalMappings:Object(r.a)(e.approvalMappings)}})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("Error fetching approval level name:",e.t0),de((function(e){return Object(n.a)(Object(n.a)({},e),{},{ApprovalLevelName:"Default Approval Level Name"})}));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}}},c.a.createElement(u.e,{message:"Field required"}),c.a.createElement(u.d,{text:"Approval Level ID"})),c.a.createElement(u.c,{dataField:"ApprovalLevelName",editorOptions:{maxLength:50,readOnly:!0}},c.a.createElement(u.d,{text:"Approval Level Description"}))),c.a.createElement(u.b,{caption:"Quantity Limit",colCount:2},c.a.createElement(u.c,{dataField:"IncreaseQty",editorType:"dxCheckBox"},c.a.createElement(u.d,{text:"Allow To Increase Qty"})),c.a.createElement(u.c,{dataField:"DecreaseQty",editorType:"dxCheckBox"},c.a.createElement(u.d,{text:"Allow To Decrease Qty"}))),c.a.createElement(u.b,{caption:"Finance Limit",colCount:2},c.a.createElement(u.c,{dataField:"MinValue",editorType:"dxNumberBox",editorOptions:{maxLength:50}},c.a.createElement(u.d,{text:"Min Value",location:"left"})),c.a.createElement(u.c,{dataField:"MaxValue",editorType:"dxNumberBox",editorOptions:{maxLength:50}},c.a.createElement(u.d,{text:"Max Value",location:"left"}))),c.a.createElement(u.b,{caption:"Required Attachments",colCount:2},c.a.createElement(u.c,{dataField:"RequiredAttachments_1",editorType:"dxCheckBox"},c.a.createElement(u.d,{text:"Specification"})),c.a.createElement(u.c,{dataField:"RequiredAttachments_2",editorType:"dxCheckBox"},c.a.createElement(u.d,{text:"BOQ"})),c.a.createElement(u.c,{dataField:"RequiredAttachments_3",editorType:"dxCheckBox"},c.a.createElement(u.d,{text:"Drawing"})))),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement(s.a,{bg:"light",variant:"light"},c.a.createElement(p.a,{variant:"secondary",icon:"feather icon-layers",onClick:function(e){return(f=f||Object(o.a)(x().mark((function e(t){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he();case 2:if(!e.sent){e.next=5;break}console.log(JSON.stringify(ue.jForm)),v.a.post("/api/addApprovalMapping",{approvalMapping:JSON.stringify(ue.jForm),UserID:le,Index:q}).then((function(e){console.log(e.data),b.a.fire({icon:"success",title:"Success",text:"Approval Level Mapping details saved successfully!"}).then((function(e){be()}))})).catch((function(e){console.error("Error:",e),b.a.fire({icon:"error",title:'<span style="color: red;">Error!</span>',text:"Failed to save approval level mapping details",confirmButtonColor:"#d33",confirmButtonText:"OK"})}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)},disabled:Y},"Save"),c.a.createElement(p.a,{variant:"secondary",icon:"feather icon-layers",onClick:function(){return(E=E||Object(o.a)(x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:de(Object(n.a)(Object(n.a)({},ue),{},{jForm:{MinValue:0,MaxValue:1},boolValue:!1}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)},disabled:Y},"Clear")),c.a.createElement("br",null)),c.a.createElement("br",null),c.a.createElement("h3",null,"Mapping Details"),c.a.createElement("br",null),!ue.LoadPanelVisible&&c.a.createElement(d.k,{showBorders:!0,dataSource:ue.approvalMappings,wordWrapEnabled:!0,allowSearch:!0,selection:{mode:"single"},allowColumnResizing:!0,hoverStateEnabled:!0,onCellDblClick:function(e){console.log(e.data.Index),ee||(H(!0),de({jForm:e.data,approvalMappings:ue.approvalMappings,boolValue:!0}),U(e.data.Index),H(!1),setTimeout((function(){ge()}),100))}},c.a.createElement(d.j,{visible:!0}),c.a.createElement(d.h,{defaultPageSize:20}),c.a.createElement(d.a,{dataField:"Index",visible:!1}),c.a.createElement(d.a,{dataField:"PRType",caption:"PR Type"},c.a.createElement(d.g,{items:F,valueExpr:"PRTypeCode",displayExpr:"Discription"})),c.a.createElement(d.a,{dataField:"ItemCategory",caption:"Item Category"}),c.a.createElement(d.a,{dataField:"UserGroup",caption:"User Group"},c.a.createElement(d.g,{items:N,valueExpr:"GroupCode",displayExpr:"Discription"})),c.a.createElement(d.a,{caption:"Approval Level"},c.a.createElement(d.a,{dataField:"ApprovalLevel",caption:"Approval Level ID"}),c.a.createElement(d.a,{dataField:"ApprovalLevelName",caption:"Approval Level Name"})),c.a.createElement(d.a,{caption:"Quantity Limit "},c.a.createElement(d.a,{dataField:"IncreaseQty",caption:"Allow To Increase Qty",dataType:"bit"}),c.a.createElement(d.a,{dataField:"DecreaseQty",caption:"Allow To Decrease Qty",dataType:"bit"})),c.a.createElement(d.a,{caption:"Finance Limit "},c.a.createElement(d.a,{dataField:"MinValue",caption:"Min Value"}),c.a.createElement(d.a,{dataField:"MaxValue",caption:"Max Value"})),c.a.createElement(d.a,{caption:"Required Attachment"},c.a.createElement(d.a,{dataField:"RequiredAttachments_1",caption:"Specification",dataType:"bit"}),c.a.createElement(d.a,{dataField:"RequiredAttachments_2",caption:"BOQ",dataType:"bit"}),c.a.createElement(d.a,{dataField:"RequiredAttachments_3",caption:"Drawing",dataType:"bit"}))),c.a.createElement(m.a,{message:"Processing.... Please, wait...",shadingColor:"rgba(0,0,0,0.4)",showIndicator:!0,shading:!0,showPane:!0,closeOnOutsideClick:!1,width:500}))}}}]);
//# sourceMappingURL=21.f6f4ab9a.chunk.js.map