{"version":3,"sources":["App/components/MainCard.js","Forms/Master/Department.js"],"names":["MainCard","state","isOption","props","fullCard","collapseCard","loadCard","cardRemove","cardReloadHandler","setState","setInterval","cardRemoveHandler","fullScreenStyle","loader","cardHeaderRight","cardHeader","card","cardClass","this","className","alignRight","Toggle","id","Menu","as","Item","onClick","prevState","href","DEMO","BLANK_LINK","Header","Title","title","position","top","left","right","width","windowWidth","height","windowHeight","join","style","in","Body","backgroundColor","children","Component","Department","FormRef","useRef","useState","rowIndex","setRowIndex","isAdd","setISAdd","isEdit","setISEdit","userName","setUserName","updateRow","setUpdateRow","useEffect","setdetails","authData","JSON","parse","localStorage","getItem","axios","get","params","UsersID","UserName","MenuID","checkAuthentication","data","length","console","log","UserView","departmentDetails","departments","UserAdd","UserEdit","jForm","DepartmentCode","Discription","Active","viewDepartmentCode","LoadPanelVisible","ListViewing","GroupTable","jSetForm","boolValue","FormLayout","current","instance","OnNotification","message","type","notify","displayTime","at","offset","OnSaveValidation","validate","isValid","focusTextBox","useCallback","editor","getEditor","focus","ref","formData","colCount","dataField","background","editorOptions","readOnly","maxLength","text","editorType","bg","variant","icon","e","isUpdate","department_exists","post","department","stringify","UserID","then","response","Swal","fire","res","newDepartment","oldDepartments","window","location","reload","catch","error","confirmButtonColor","confirmButtonText","disabled","dataSource","showBorders","wordWrapEnabled","allowSearch","selection","mode","hoverStateEnabled","onCellDblClick","setTimeout","visible","defaultPageSize","caption","dataType"],"mappings":"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","file":"static/js/46.c60b9c1a.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Dropdown, Card, Collapse } from \"react-bootstrap\";\r\nimport windowSize from \"react-window-size\";\r\n\r\nimport Aux from \"../../hoc/_Aux\";\r\nimport DEMO from \"../../store/constant\";\r\n\r\n{\r\n  /* <Card className=\"customCard\"></Card>\r\n\r\n.customCard: {\r\n    background: blue !important;\r\n} */\r\n}\r\nclass MainCard extends Component {\r\n  state = {\r\n    isOption: this.props.isOption,\r\n    fullCard: false,\r\n    collapseCard: false,\r\n    loadCard: false,\r\n    cardRemove: false,\r\n  };\r\n\r\n  cardReloadHandler = () => {\r\n    this.setState({ loadCard: true });\r\n    setInterval(() => {\r\n      this.setState({ loadCard: false });\r\n    }, 3000);\r\n  };\r\n\r\n  cardRemoveHandler = () => {\r\n    this.setState({ cardRemove: true });\r\n  };\r\n\r\n  render() {\r\n    let fullScreenStyle, loader, cardHeaderRight, cardHeader, cardColor;\r\n    let card = \"\";\r\n    let cardClass = [];\r\n\r\n    if (this.state.isOption) {\r\n      cardHeaderRight = (\r\n        <div className=\"card-header-right\">\r\n          <Dropdown alignRight={true} className=\"btn-group card-option\">\r\n            <Dropdown.Toggle id=\"dropdown-basic\" className=\"btn-icon\">\r\n              <i className=\"feather icon-more-horizontal\" />\r\n            </Dropdown.Toggle>\r\n            <Dropdown.Menu as=\"ul\" className=\"list-unstyled card-option\">\r\n              <Dropdown.Item\r\n                as=\"li\"\r\n                className=\"dropdown-item\"\r\n                onClick={() => {\r\n                  this.setState((prevState) => {\r\n                    return { fullCard: !prevState.fullCard };\r\n                  });\r\n                }}\r\n              >\r\n                <i\r\n                  className={\r\n                    this.state.fullCard\r\n                      ? \"feather icon-minimize\"\r\n                      : \"feather icon-maximize\"\r\n                  }\r\n                />\r\n                <a href={DEMO.BLANK_LINK}>\r\n                  {\" \"}\r\n                  {this.state.fullCard ? \"Restore\" : \"Maximize\"}{\" \"}\r\n                </a>\r\n              </Dropdown.Item>\r\n              <Dropdown.Item\r\n                as=\"li\"\r\n                className=\"dropdown-item\"\r\n                onClick={() => {\r\n                  this.setState((prevState) => {\r\n                    return { collapseCard: !prevState.collapseCard };\r\n                  });\r\n                }}\r\n              >\r\n                <i\r\n                  className={\r\n                    this.state.collapseCard\r\n                      ? \"feather icon-plus\"\r\n                      : \"feather icon-minus\"\r\n                  }\r\n                />\r\n                <a href={DEMO.BLANK_LINK}>\r\n                  {\" \"}\r\n                  {this.state.collapseCard ? \"Expand\" : \"Collapse\"}{\" \"}\r\n                </a>\r\n              </Dropdown.Item>\r\n              <Dropdown.Item\r\n                as=\"li\"\r\n                className=\"dropdown-item\"\r\n                onClick={this.cardReloadHandler}\r\n              >\r\n                <i className=\"feather icon-refresh-cw\" />\r\n                <a href={DEMO.BLANK_LINK}> Reload </a>\r\n              </Dropdown.Item>\r\n              <Dropdown.Item\r\n                as=\"li\"\r\n                className=\"dropdown-item\"\r\n                onClick={this.cardRemoveHandler}\r\n              >\r\n                <i className=\"feather icon-trash\" />\r\n                <a href={DEMO.BLANK_LINK}> Remove </a>\r\n              </Dropdown.Item>\r\n            </Dropdown.Menu>\r\n          </Dropdown>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    cardHeader = (\r\n      <Card.Header>\r\n        <Card.Title as=\"h5\">{this.props.title}</Card.Title>\r\n        {cardHeaderRight}\r\n      </Card.Header>\r\n    );\r\n\r\n    if (this.state.fullCard) {\r\n      cardClass = [...cardClass, \"full-card\"];\r\n      fullScreenStyle = {\r\n        position: \"fixed\",\r\n        top: 0,\r\n        left: 0,\r\n        right: 0,\r\n        width: this.props.windowWidth,\r\n        height: this.props.windowHeight,\r\n      };\r\n    }\r\n\r\n    if (this.state.loadCard) {\r\n      cardClass = [...cardClass, \"card-load\"];\r\n      loader = (\r\n        <div className=\"card-loader\">\r\n          <i className=\"pct-loader1 anim-rotate\" />\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (this.state.cardRemove) {\r\n      cardClass = [...cardClass, \"d-none\"];\r\n    }\r\n\r\n    if (this.props.cardClass) {\r\n      cardClass = [...cardClass, this.props.cardClass];\r\n    }\r\n\r\n    card = (\r\n      <Card className={cardClass.join(\" \")} style={fullScreenStyle}>\r\n        {cardHeader}\r\n        <Collapse in={!this.state.collapseCard}>\r\n          <div>\r\n            <Card.Body style={{ backgroundColor: \"rgb(185, 210, 214)\" }}>\r\n              {this.props.children}\r\n            </Card.Body>\r\n          </div>\r\n        </Collapse>\r\n        {loader}\r\n      </Card>\r\n    );\r\n\r\n    return <Aux>{card}</Aux>;\r\n  }\r\n}\r\n\r\nexport default MainCard;\r\n","import React, { useRef, useState, useEffect, useCallback } from \"react\";\r\nimport Card from \"../../App/components/MainCard\";\r\nimport { Button, Navbar } from \"react-bootstrap\";\r\nimport { CheckBox, LoadPanel } from \"devextreme-react\";\r\nimport DataGrid, {\r\n  Column,\r\n  SearchPanel,\r\n  GroupPanel,\r\n  Paging,\r\n  Editing,\r\n  Label,\r\n} from \"devextreme-react/data-grid\";\r\nimport { FileUploader } from \"devextreme-react\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\nimport notify from \"devextreme/ui/notify\";\r\nimport Form, { Item, GroupItem, RequiredRule } from \"devextreme-react/form\";\r\nimport { BackgroundColor } from \"devextreme-react/cjs/chart\";\r\n\r\nconst Department = () => {\r\n  const FormRef = useRef(null);\r\n  const [rowIndex, setRowIndex] = useState(0);\r\n  const [isAdd, setISAdd] = useState(true);\r\n  const [isEdit, setISEdit] = useState(true);\r\n  const [userName, setUserName] = useState({});\r\n  const [updateRow, setUpdateRow] = useState(true);\r\n\r\n  useEffect(() => {\r\n    setdetails();\r\n  }, []);\r\n\r\n  const setdetails = async () => {\r\n    const authData = JSON.parse(localStorage.getItem(\"user\"));\r\n    const checkAuthentication = await axios.get(\r\n      \"/api/CheckUserAuthentication\",\r\n      {\r\n        params: { UsersID: authData.UserName, MenuID: 1010 },\r\n      }\r\n    );\r\n    if (checkAuthentication.data.length != 0) {\r\n      console.log(\"checkAuthentication\", checkAuthentication);\r\n      setUserName(authData.UserName);\r\n      if (checkAuthentication.data[0].UserView) {\r\n        const departmentDetails = await axios.get(\"/api/getalldepartment\");\r\n        setState((prevState) => ({\r\n          ...prevState,\r\n          departments: departmentDetails.data,\r\n        }));\r\n      }\r\n      if (checkAuthentication.data[0].UserAdd) {\r\n        setISAdd(false);\r\n      }\r\n      if (checkAuthentication.data[0].UserEdit) {\r\n        console.log(\"AWA\");\r\n        setISEdit(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  const [state, setState] = useState({\r\n    jForm: {\r\n      DepartmentCode: \"\",\r\n      Discription: \"\",\r\n      Active: true,\r\n    },\r\n    viewDepartmentCode: 0,\r\n    departments: [],\r\n    LoadPanelVisible: false,\r\n    ListViewing: false,\r\n    GroupTable: [],\r\n    jSetForm: {},\r\n    boolValue: false,\r\n  });\r\n\r\n  const FormLayout = FormRef.current && FormRef.current.instance;\r\n\r\n  // const handleChange = (e) => {\r\n  //   const { name, value } = e.target;\r\n  //   setState((prevState) => ({\r\n  //     ...prevState,\r\n  //     jForm: {\r\n  //       ...prevState.jForm,\r\n  //       [name]: value,\r\n  //     },\r\n  //   }));\r\n  // };\r\n\r\n  const OnNotification = (message, type) => {\r\n    notify({\r\n      message: message,\r\n      type: type,\r\n      displayTime: 3000,\r\n      position: { at: \"top right\", offset: \"50\" },\r\n    });\r\n  };\r\n\r\n  const OnSaveValidation = async () => {\r\n    console.log(\"validation  2\", !FormLayout.validate().isValid);\r\n    if (!FormLayout.validate().isValid) {\r\n      OnNotification(\"Fields marked with * are required\", \"error\");\r\n      return false;\r\n    }\r\n    return true;\r\n  };\r\n\r\n  const handleSave = async (e) => {\r\n    if (await OnSaveValidation()) {\r\n      const isUpdate = await axios.get(\"/api/checkDepartmentCode\", {\r\n        params: { DepartmentCode: state.jForm.DepartmentCode },\r\n      });\r\n      if (updateRow) {\r\n        if (isUpdate.data[0].department_exists == 0) {\r\n          axios\r\n            .post(\"/api/addDepartment\", {\r\n              department: JSON.stringify(state.jForm),\r\n              UserID: userName,\r\n            })\r\n            .then((response) => {\r\n              console.log(response.data);\r\n              Swal.fire({\r\n                icon: \"success\",\r\n                title: \"Success\",\r\n                text: \"Data saved successfully!\",\r\n              }).then((res) => {\r\n                const newDepartment = state.jForm;\r\n\r\n                if (state.boolValue) {\r\n                  const oldDepartments = state.departments;\r\n                  oldDepartments[rowIndex] = state.jForm;\r\n                  setState((prevState) => ({\r\n                    ...prevState,\r\n                    departments: oldDepartments,\r\n                    jForm: { Active: true },\r\n                    boolValue: false,\r\n                  }));\r\n                  window.location.reload();\r\n                } else {\r\n                  setState((prevState) => ({\r\n                    ...prevState,\r\n                    departments: [...prevState.departments, newDepartment],\r\n                    jForm: { Active: true },\r\n                    boolValue: false,\r\n                  }));\r\n                  window.location.reload();\r\n                }\r\n              });\r\n            })\r\n            .catch((error) => {\r\n              console.error(\"Error:\", error);\r\n              let Title = \"Error\";\r\n              // Handle error\r\n              Swal.fire({\r\n                icon: \"error\",\r\n                title: '<span style=\"color: red;\">Error!</span>',\r\n                text: \"Failed to save user department details\",\r\n                confirmButtonColor: \"#d33\",\r\n                confirmButtonText: \"OK\",\r\n              });\r\n            });\r\n        } else {\r\n          OnNotification(\"Already added Department Code\", \"error\");\r\n        }\r\n      } else {\r\n        axios\r\n          .post(\"/api/addDepartment\", {\r\n            department: JSON.stringify(state.jForm),\r\n            UserID: userName,\r\n          })\r\n          .then((response) => {\r\n            console.log(response.data);\r\n            Swal.fire({\r\n              icon: \"success\",\r\n              title: \"Success\",\r\n              text: \"Data update successfully!\",\r\n            }).then((res) => {\r\n              const newDepartment = state.jForm;\r\n\r\n              if (state.boolValue) {\r\n                const oldDepartments = state.departments;\r\n                oldDepartments[rowIndex] = state.jForm;\r\n                setState((prevState) => ({\r\n                  ...prevState,\r\n                  departments: oldDepartments,\r\n                  jForm: { Active: true },\r\n                  boolValue: false,\r\n                }));\r\n                window.location.reload();\r\n              } else {\r\n                setState((prevState) => ({\r\n                  ...prevState,\r\n                  departments: [...prevState.departments, newDepartment],\r\n                  jForm: { Active: true },\r\n                  boolValue: false,\r\n                }));\r\n                window.location.reload();\r\n              }\r\n            });\r\n          })\r\n          .catch((error) => {\r\n            console.error(\"Error:\", error);\r\n            let Title = \"Error\";\r\n            // Handle error\r\n            Swal.fire({\r\n              icon: \"error\",\r\n              title: '<span style=\"color: red;\">Error!</span>',\r\n              text: \"Failed to save user department details\",\r\n              confirmButtonColor: \"#d33\",\r\n              confirmButtonText: \"OK\",\r\n            });\r\n          });\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleClear = () => {\r\n    setState({\r\n      ...state,\r\n      jForm: { Active: true },\r\n      boolValue: false,\r\n    });\r\n  };\r\n\r\n  const textColor = {\r\n    background: \"rgb(185, 210, 214)\",\r\n  };\r\n\r\n  const updateTable = (e) => {\r\n    if (!isEdit) {\r\n      setState({\r\n        jForm: e.data,\r\n        departments: state.departments,\r\n        boolValue: true,\r\n      });\r\n      setUpdateRow(false);\r\n      setRowIndex(e.data.rowIndex);\r\n      setTimeout(() => {\r\n        focusTextBox();\r\n      }, 100);\r\n    }\r\n  };\r\n\r\n  const focusTextBox = useCallback(() => {\r\n    if (FormRef.current) {\r\n      const formInstance = FormRef.current.instance;\r\n      const editor = formInstance.getEditor(\"Discription\");\r\n      if (editor) {\r\n        editor.focus();\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <Card title=\"User Department\">\r\n        <Form ref={FormRef} formData={state.jForm}>\r\n          <GroupItem colCount={2}>\r\n            <Item\r\n              dataField=\"DepartmentCode\"\r\n              style={textColor}\r\n              editorOptions={{\r\n                readOnly: state.boolValue,\r\n                maxLength: 20,\r\n                // style: BackgroundColor.apply(\"red\"),\r\n              }}\r\n            >\r\n              <RequiredRule message=\"Field required\" />\r\n              <Label text=\"Department Code\"></Label>\r\n            </Item>\r\n            <Item dataField=\"Discription\" editorOptions={{}}>\r\n              <RequiredRule message=\"Field required\" />\r\n              <Label text=\"Description\"></Label>\r\n            </Item>\r\n            <Item\r\n              dataField=\"Active\"\r\n              editorType=\"dxCheckBox\"\r\n              editorOptions={{}}\r\n            ></Item>\r\n          </GroupItem>\r\n        </Form>\r\n        <br />\r\n        <br />\r\n        <Navbar bg=\"light\" variant=\"light\">\r\n          <Button\r\n            variant=\"secondary\"\r\n            icon=\"feather icon-layers\"\r\n            onClick={handleSave}\r\n            disabled={isAdd}\r\n          >\r\n            Save\r\n          </Button>\r\n          <Button\r\n            variant=\"secondary\"\r\n            icon=\"feather icon-layers\"\r\n            onClick={handleClear}\r\n            disabled={isAdd}\r\n          >\r\n            Clear\r\n          </Button>\r\n        </Navbar>\r\n      </Card>\r\n      <Card title=\"User Department List\">\r\n        <DataGrid\r\n          dataSource={state.departments}\r\n          showBorders={true}\r\n          wordWrapEnabled={true}\r\n          allowSearch={true}\r\n          selection={{ mode: \"single\" }}\r\n          hoverStateEnabled={true}\r\n          onCellDblClick={updateTable}\r\n        >\r\n          <SearchPanel visible={true} />\r\n\r\n          <Paging defaultPageSize={20} />\r\n\r\n          <Column dataField=\"DepartmentCode\" caption=\"Department Code\" />\r\n          <Column dataField=\"Discription\" caption=\"Description\" />\r\n          <Column\r\n            dataField=\"Active\"\r\n            editorType=\"dxCheckBox\"\r\n            caption=\"Active\"\r\n            dataType=\"bit\"\r\n          />\r\n        </DataGrid>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Department;\r\n"],"sourceRoot":""}